<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>freeRTOS LCD Library: LCD Library Usage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">freeRTOS LCD Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LCD Library Usage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#Defines">Defines</a><ul><li class="level2"><a href="#Wiring">LCD Wiring</a></li>
<li class="level2"><a href="#wrap">Text Wrapping</a></li>
<li class="level2"><a href="#bitmode">4-bit/8-bit Mode</a></li>
<li class="level2"><a href="#Cursor">Cursor Blink and Show</a></li>
<li class="level2"><a href="#twoline">Two Line/One Line Mode</a></li>
<li class="level2"><a href="#font">Font Size</a></li>
<li class="level2"><a href="#Mode">Increment and Shift Mode</a></li>
</ul>
</li>
<li class="level1"><a href="#functions">Functions</a><ul><li class="level2"><a href="#Initialization">vLCD_INITIALIZATION()</a></li>
<li class="level2"><a href="#write_command">vWRITE_COMMAND_TO_LCD(RS,data)</a></li>
<li class="level2"><a href="#write_string">vLCD_WRITE_STRING(string)</a></li>
</ul>
</li>
<li class="level1"><a href="#clear">vLCD_CLEAR()</a></li>
<li class="level1"><a href="#clear_top">vLCD_CLEAR_TOP()</a></li>
<li class="level1"><a href="#clear_bottom">vLCD_CLEAR_BOTTOM()</a></li>
<li class="level1"><a href="#onoff">vLCD_ON_OFF()</a><ul><li class="level2"><a href="#length">xLCD_Get_Length()</a></li>
<li class="level2"><a href="#goto">vLCD_GO_TO_POSITION(x,y)</a></li>
</ul>
</li>
<li class="level1"><a href="#tophome">vLCD_HOME_TOP_LINE()</a></li>
<li class="level1"><a href="#bottomhome">vLCD_HOME_BOTTOM_LINE()</a></li>
</ul>
</div>
<div class="textblock"><p>The purpose of this page is to highlight the functions that can be called from the library and how they are used. This library is used to drive an LCD using the KS0066U dot matrix controller.</p>
<h1><a class="anchor" id="Defines"></a>
Defines</h1>
<h2><a class="anchor" id="Wiring"></a>
LCD Wiring</h2>
<p>The LCD needs wired so that there are 8 data pins and 3 "command" pins. The 3 command pins are Register Select (RS), Read/Not Write (R/!W), and Enable (E). The 8 data pins are always plugged into their own port, with the data pins 0-7 being port pins 0-7. The 3 command pins are plugged into a port, with RS being pin 0, RW being pin 1, and E being pin 2. The ports default to PORTK for the data pins and PORTJ for the command pins. These may be changed via the defines LDP (data) and LCP (command) in the header file. The Data Definition Registers LDDR and LCDR should also being changed according to the assigned ports.</p>
<div class="image">
<img src="LCD_BOARD.jpg" alt="LCD_BOARD.jpg"/>
<div class="caption">
Figure 1 - Input Pins on LCD Board</div></div>
 <h2><a class="anchor" id="wrap"></a>
Text Wrapping</h2>
<p>The "configTEXT_WRAP" setting is used to define if text wrapping should be enabled when calling the "vLCD_WRITE_STRING" command. This automatically moves to the second line of the display when the first line is full when set to 1.</p>
<h2><a class="anchor" id="bitmode"></a>
4-bit/8-bit Mode</h2>
<dl class="section warning"><dt>Warning</dt><dd>4-bit mode is non-operational! Enabling it may yield unexpected results!</dd></dl>
<p>The BITMODE definition is used to define if the display is to be used in 8-bit mode or 4-bit mode. A define of "BITMODE8" will set the display to use 8-bit mode, where a define of "BITMODE4" will set the display to use 4-bit mode.</p>
<h2><a class="anchor" id="Cursor"></a>
Cursor Blink and Show</h2>
<p>The configuration of the display can be changed so that the cursor is shown, or is set to blink. This is done by changing two configuration options. configCURSOR_SHOW will show the cursor if set to 1, and hide it if set to 0. configCURSOR_BLINK will blink the cursor if set to 1, and hide it if set to 0.</p>
<h2><a class="anchor" id="twoline"></a>
Two Line/One Line Mode</h2>
<p>The number of lines enabled on the display can be either both lines or the top line. To enable just the top line, set "TWO_LINE_MODE" to 0. To enable both lines, set "TWO_LINE_MODE" to 1.</p>
<h2><a class="anchor" id="font"></a>
Font Size</h2>
<p>Two font sizes exist for the display, both 5x11 dots and 5x8 dots. When "FONT_TYPE" is set to 0, the 5x8 dot format is used. When "FONT_TYPE" is set to 1, the 5x11 dot format is used.</p>
<h2><a class="anchor" id="Mode"></a>
Increment and Shift Mode</h2>
<dl class="section warning"><dt>Warning</dt><dd>Shift mode is non-operational! Enabling it may yield unexpected results!</dd></dl>
<p>The configuration of the shift mode can be changed to either increment or entire shift. Setting the define "INCREMENT_MODE" to 1 will set the display to increment, where setting the define "ENTIRE_SHIFT_MODE" to 1 will set the display to shift on data write.</p>
<h1><a class="anchor" id="functions"></a>
Functions</h1>
<h2><a class="anchor" id="Initialization"></a>
vLCD_INITIALIZATION()</h2>
<p>The initialization function is used to initially set up the display. This function configures the ports used by the display, sets the display's entry mode and text size, turns on the display while setting the cursor settings, then clears the display. The display should be on, the text cleared, and the cursor at the home position.</p>
<h2><a class="anchor" id="write_command"></a>
vWRITE_COMMAND_TO_LCD(RS,data)</h2>
<p>Writes instructions or characters to the LCD. The input parameters for the display are the Register Select state and the data to be written. The Register Select state is '0' to write a command and '1' to write data. The data input is the value to be put on the data ports of the LCD. </p>
<dl class="section note"><dt>Note</dt><dd>This command is not intended to be used directly by the user, but may be called if the user wishes to use a command not available through function calls contained in this library.</dd></dl>
<h2><a class="anchor" id="write_string"></a>
vLCD_WRITE_STRING(string)</h2>
<p>Writes an input string to the LCD at the cursor's current position. This will overwrite and current characters on the display. If text wrapping is enabled, the text will automatically move from line 1 to line 2 if overflow happens.</p>
<h2><a class="anchor" id="clear"></a>
vLCD_CLEAR()</h2>
<p>Clears both lines of the display and returns the cursor to the home position.</p>
<h2><a class="anchor" id="clear_top"></a>
vLCD_CLEAR_TOP()</h2>
<p>Sets the cursor for the home position of the top row, writes a string of 24 spaces, then returns the cursor to the home position of the top row.</p>
<h2><a class="anchor" id="clear_bottom"></a>
vLCD_CLEAR_BOTTOM()</h2>
<p>Sets the cursor for the home position of the bottom row, writes a string of 24 spaces, then returns the cursor to the home position of the bottom row.</p>
<h2><a class="anchor" id="onoff"></a>
vLCD_ON_OFF()</h2>
<p>Toggles the on/off status of the LCD. If called, the LCD will turn off if it is on, and turn on if it is off. </p>
<dl class="section note"><dt>Note</dt><dd>Using vWRITE_COMMAND_TO_LCD to turn the display on and off will not change the variable used to track the display, which may cause undesirable results when calling this function.</dd></dl>
<h2><a class="anchor" id="length"></a>
xLCD_Get_Length()</h2>
<p>Returns the number of available characters remaining on the LCD as an 8-bit unsigned integer. The value is calculated from the position of the cursor.</p>
<h2><a class="anchor" id="goto"></a>
vLCD_GO_TO_POSITION(x,y)</h2>
<p>Moves the cursor to a position on the LCD. X is the horizontal position 0-23, and y is the vertical position 0-1.</p>
<h2><a class="anchor" id="tophome"></a>
vLCD_HOME_TOP_LINE()</h2>
<p>Moves the cursor to the home position of the top line.</p>
<h2><a class="anchor" id="bottomhome"></a>
vLCD_HOME_BOTTOM_LINE()</h2>
<p>Moves the cursor to the home position of the bottom line. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 2 2013 18:54:27 for freeRTOS LCD Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>

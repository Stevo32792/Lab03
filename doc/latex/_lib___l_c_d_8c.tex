\hypertarget{_lib___l_c_d_8c}{\section{Lib\-\_\-\-L\-C\-D.\-c File Reference}
\label{_lib___l_c_d_8c}\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}}
}


File for Free\-R\-T\-O\-S L\-C\-D implementation.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_lib___l_c_d_8c_a801b1b8096ae349442402ff4260357e8}{v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N} (void)
\begin{DoxyCompactList}\small\item\em Function to initialize the L\-D\-C. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D} (char R\-S, char data)
\item 
void \hyperlink{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543}{v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G} (char $\ast$str\-\_\-ptr)
\begin{DoxyCompactList}\small\item\em Function to write strings to the L\-C\-D. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_af8b7dfeae5ba29704c45de38cce48d9a}{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R} (void)
\begin{DoxyCompactList}\small\item\em Function to clear the L\-C\-D Display. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_a5d64774db98f8fa0c6d94565030064c1}{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P} (void)
\begin{DoxyCompactList}\small\item\em Function to clear the top line of the L\-C\-D Display. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_a3e2400a3341c31ace343ec46c1458285}{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M} (void)
\begin{DoxyCompactList}\small\item\em Function to clear the bottom line of the L\-C\-D Display. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_afd6340508e9e341f1a8c7ba4228e27f9}{v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F} (void)
\begin{DoxyCompactList}\small\item\em Function to toggle L\-C\-D on and off. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{_lib___l_c_d_8c_a1d0d7788aeded6a84e4149f2351beaf8}{x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length} (void)
\item 
void \hyperlink{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207}{v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N} (uint8\-\_\-t x, uint8\-\_\-t y)
\item 
void \hyperlink{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67}{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E} (void)
\begin{DoxyCompactList}\small\item\em Function to return to home position on the top line of the L\-C\-D. \end{DoxyCompactList}\item 
void \hyperlink{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E} (void)
\begin{DoxyCompactList}\small\item\em Function to return to home position on the bottom line of the L\-C\-D. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
File for Free\-R\-T\-O\-S L\-C\-D implementation. 



\begin{DoxyAuthor}{Author}

\end{DoxyAuthor}
Contains all functions for two line L\-C\-D operation in Free\-R\-T\-O\-S

Modification History\-: 11/18/2013 -\/ Pulled all Functions in 11/16/2013 -\/ Original File 

Definition in file \hyperlink{_lib___l_c_d_8c_source}{Lib\-\_\-\-L\-C\-D.\-c}.



\subsection{Function Documentation}
\hypertarget{_lib___l_c_d_8c_af8b7dfeae5ba29704c45de38cce48d9a}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R}}
\index{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_af8b7dfeae5ba29704c45de38cce48d9a}


Function to clear the L\-C\-D Display. 





Function is called to clear all data displayed on the L\-C\-D. Also returns the cursor to the home location on the top row. The command used to clear the display takes 1.\-53ms to run. Proper time needs allocated to ensure no commands are sent to the display for that time

\mbox{[}in\mbox{]} nothing

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/17/2013 -\/ Original Function 11/24/2013 -\/ Added code to function Call write command to send 0x01 command (clear) to the controller 

Definition at line 339 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
340 \{
342     \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, 1 << 
      \hyperlink{_lib___l_c_d_8h_afa5174779d21b19ea27b5e5f666c3703}{LCD\_CLEAR\_INSTRUCTION});
343 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{_lib___l_c_d_8c_af8b7dfeae5ba29704c45de38cce48d9a_cgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a3e2400a3341c31ace343ec46c1458285}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M}}
\index{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-B\-O\-T\-T\-O\-M (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a3e2400a3341c31ace343ec46c1458285}


Function to clear the bottom line of the L\-C\-D Display. 





Calls the function to set the cursor to the home position of the bottom row, write 24 spaces as a string, then return to the home position of the bottom row.

\mbox{[}in\mbox{]} nothing

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/17/2013 -\/ Original Function 11/24/2013 -\/ Added code to function Call function to set cursor for bottom row's home position

Call function to write string of 24 spaces to clear the bottom row

Call function to set cursor for bottom row's home position 

Definition at line 397 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
398 \{
400     \hyperlink{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}{vLCD\_HOME\_BOTTOM\_LINE}();
402     \hyperlink{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543}{vLCD\_WRITE\_STRING}(\textcolor{stringliteral}{"                        "});
404     \hyperlink{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}{vLCD\_HOME\_BOTTOM\_LINE}();
405 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a3e2400a3341c31ace343ec46c1458285_cgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a5d64774db98f8fa0c6d94565030064c1}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P}}
\index{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P@{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-C\-L\-E\-A\-R\-\_\-\-T\-O\-P (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a5d64774db98f8fa0c6d94565030064c1}


Function to clear the top line of the L\-C\-D Display. 





Calls the function to set the cursor to the home position of the top row, write 24 spaces as a string, then return to the home position of the top row.

\mbox{[}in\mbox{]} nothing

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/17/2013 -\/ Original Function 11/24/2013 -\/ Added code to function Call function to set cursor for top row's home position

Call function to write string of 24 spaces to clear the top row

Call function to set cursor for top row's home position 

Definition at line 366 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
367 \{
369     \hyperlink{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67}{vLCD\_HOME\_TOP\_LINE}();
371     \hyperlink{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543}{vLCD\_WRITE\_STRING}(\textcolor{stringliteral}{"                        "});
373     \hyperlink{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67}{vLCD\_HOME\_TOP\_LINE}();
374 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a5d64774db98f8fa0c6d94565030064c1_cgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N@{v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N}}
\index{v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N@{v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}void v\-L\-C\-D\-\_\-\-G\-O\-\_\-\-T\-O\-\_\-\-P\-O\-S\-I\-T\-I\-O\-N (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{, }
\item[{uint8\-\_\-t}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207}
Function To go directly to a set of X,Y coordinates on the L\-C\-D 

Definition at line 531 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
532 \{
533     \textcolor{comment}{//save the current position}
534     \textcolor{keyword}{register} uint8\_t DDRAMAddr;
535     
536     \textcolor{comment}{// For each line o the LCD}
537     \textcolor{keywordflow}{switch}(y)
538     \{
539         \textcolor{keywordflow}{case} 0: 
540             \textcolor{comment}{//for the top line, set the DDRAM address }
541             \textcolor{comment}{//move a certain number of characters to the right}
542             DDRAMAddr = LCD\_LINE0\_DDRAMADDR + x;
543         \textcolor{keywordflow}{break};
544         
545         \textcolor{keywordflow}{case} 1: 
546             \textcolor{comment}{//for the bottom line, set the DDRAM address }
547             \textcolor{comment}{//move a certain number of characters to the right}
548             DDRAMAddr = LCD\_LINE1\_DDRAMADDR + x;
549         \textcolor{keywordflow}{break};
550         
551         \textcolor{keywordflow}{default}: 
552             \textcolor{comment}{//default to the top left of the LCD if nothing is specified}
553             DDRAMAddr = LCD\_LINE0\_DDRAMADDR+x;
554     \}
555     
556     \textcolor{comment}{//save current cursor position X}
557     \hyperlink{_lib___l_c_d_8h_af3836e0e465249949a42c1711a29b026}{CURSOR\_X\_POSITION} = x;
558     \textcolor{comment}{//save current cursor position Y}
559     \hyperlink{_lib___l_c_d_8h_aa8060b8676b9666d5b1357bb896a7cfa}{CURSOR\_Y\_POSITION} = y;
560     
561     \textcolor{comment}{// send a command to set the data address}
562     \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, 1 <<LCD\_DDRAM | DDRAMAddr);
563 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207_icgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E@{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E}}
\index{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E@{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-B\-O\-T\-T\-O\-M\-\_\-\-L\-I\-N\-E (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}


Function to return to home position on the bottom line of the L\-C\-D. 





Function is called to return the cursor to the first position on the bottom line of the L\-C\-D.

This allows for the the bottom line to be ready to write independently from the top line.

\mbox{[}in\mbox{]} none

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/15/2013 -\/ Original Function 

Definition at line 615 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
616 \{
617     \textcolor{comment}{//move the cursor to the bottom left position on the LCD}
618     \hyperlink{_lib___l_c_d_8c_a3d78bee51edcb0ebe6cf4936147bb207}{vLCD\_GO\_TO\_POSITION}(0,1);
619 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e_icgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E@{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E}}
\index{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E@{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-H\-O\-M\-E\-\_\-\-T\-O\-P\-\_\-\-L\-I\-N\-E (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67}


Function to return to home position on the top line of the L\-C\-D. 





Function is called to return the cursor to the first position on the top line of the L\-C\-D.

This allows for the the top line to be ready to write independently from the bottom line.

\mbox{[}in\mbox{]} none

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/15/2013 -\/ Original Function 

Definition at line 587 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
588 \{
589     \textcolor{comment}{//move cursor to the top left position of the LCD}
590     \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, 1 << \hyperlink{_lib___l_c_d_8h_a207e17a2f807f034c0fc055010928a16}{LCD\_HOME\_TOP\_LINE});
591 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{_lib___l_c_d_8c_a4427826e170410fece5aa9ff81f13d67_icgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a801b1b8096ae349442402ff4260357e8}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N@{v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N}}
\index{v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N@{v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-I\-N\-I\-T\-I\-A\-L\-I\-Z\-A\-T\-I\-O\-N (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a801b1b8096ae349442402ff4260357e8}


Function to initialize the L\-D\-C. 





Function is called to initialize the L\-C\-D into either 4 bit or 8 bit mode off of the flowcharts on pages 26 and 27 of the K\-S6600\-U datasheet

\mbox{[}in\mbox{]} none

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/17/2013 -\/ Original Function Initialize the Data Bit port for initially low output

Initialize the Control Bit port for initially low output 

Definition at line 47 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
48 \{
49     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} Instructions = 0x00;
50     
52     \hyperlink{_lib___l_c_d_8h_a8a47e7956b4dd0e990db51cd70d9eac8}{LDDR} = 0xFF;
53     \hyperlink{_lib___l_c_d_8h_a88979bbbc6cd7d8c557867826d755c1b}{LDP} =  0x00;
54     
56     \hyperlink{_lib___l_c_d_8h_ab726239c0afab48dcbb8fd77a7eda438}{LCDR} = 0xFF;
57     \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} =  0x00; 
58     
59 \textcolor{preprocessor}{    #ifdef BITMODE4}
60 \textcolor{preprocessor}{}
61         \_delay\_ms(35);
62         
63         \textcolor{comment}{/***************************************************************************/}
72         Instructions = (1<<\hyperlink{_lib___l_c_d_8h_a5b91fe480c768d4f246f3890207bfbfc}{LCD\_D5});
73         
74         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
75         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
76         
77         Instructions = (TWO\_LINE\_MODE<<\hyperlink{_lib___l_c_d_8h_abd65075e01c7413419581aedee5bcc24}{LCD\_D7})|(DISPLAY\_ON<<\hyperlink{_lib___l_c_d_8h_a72e105fcda5fd1c07b5f391379a439d4}{LCD\_D6});
78         
79         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
80         
82         \_delay\_us(50);
83         
84         \textcolor{comment}{/***************************************************************************/}
94         Instructions = 0x00;
95         
96         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
97         
98         Instructions = (1 << \hyperlink{_lib___l_c_d_8h_abd65075e01c7413419581aedee5bcc24}{LCD\_D7}) | 
99               (DISPLAY\_ON << \hyperlink{_lib___l_c_d_8h_a72e105fcda5fd1c07b5f391379a439d4}{LCD\_D6}) | 
100                (CURSOR\_ON << \hyperlink{_lib___l_c_d_8h_a5b91fe480c768d4f246f3890207bfbfc}{LCD\_D5}) | 
101          (CURSOR\_BLINK\_ON << \hyperlink{_lib___l_c_d_8h_ade7e247311032a474711416da480ed8b}{LCD\_D4}));
102          
103          \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
104          
106         \_delay\_us(50);
107         
108         \textcolor{comment}{/***************************************************************************/}
112         Instructions = 0x00;
113         
114         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
115         
118         Instructions = (1<<\hyperlink{_lib___l_c_d_8h_ade7e247311032a474711416da480ed8b}{LCD\_D4});
119         
120         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
121         
123         \_delay\_us(1600);
124         
125         \textcolor{comment}{/***************************************************************************/}
129         Instructions = 0x00;
130         
131         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
132         
138         Instructions =  (1 << \hyperlink{_lib___l_c_d_8h_a72e105fcda5fd1c07b5f391379a439d4}{LCD\_D6}) | 
139            (INCREMENT\_MODE << \hyperlink{_lib___l_c_d_8h_a5b91fe480c768d4f246f3890207bfbfc}{LCD\_D5}) | 
140         (ENTIRE\_SHIFT\_MODE << \hyperlink{_lib___l_c_d_8h_ade7e247311032a474711416da480ed8b}{LCD\_D4});
141         
142         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
143 \textcolor{preprocessor}{    #endif;}
144 \textcolor{preprocessor}{}    
145 \textcolor{preprocessor}{    #ifdef BITMODE8}
146 \textcolor{preprocessor}{}    
148         \_delay\_ms(35);
149         
150         \textcolor{comment}{/***************************************************************************/}
159         Instructions = (1 << \hyperlink{_lib___l_c_d_8h_a5b91fe480c768d4f246f3890207bfbfc}{LCD\_D5}) |
160                        (1 << \hyperlink{_lib___l_c_d_8h_ade7e247311032a474711416da480ed8b}{LCD\_D4}) | 
161            (TWO\_LINE\_MODE << \hyperlink{_lib___l_c_d_8h_a3d23f1f20ad1f0fb190f4a10334f4bf1}{LCD\_D3}) | 
162               (DISPLAY\_ON << \hyperlink{_lib___l_c_d_8h_aa97ea257a9007a9055e5f77e1b3336e5}{LCD\_D2}); 
163               
164         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
165                 
167         \_delay\_us(50);
168         
169         \textcolor{comment}{/***************************************************************************/}
179         Instructions = (1 << \hyperlink{_lib___l_c_d_8h_a3d23f1f20ad1f0fb190f4a10334f4bf1}{LCD\_D3}) | 
180               (DISPLAY\_ON << \hyperlink{_lib___l_c_d_8h_aa97ea257a9007a9055e5f77e1b3336e5}{LCD\_D2}) | 
181                (CURSOR\_ON << \hyperlink{_lib___l_c_d_8h_ac6b74016e58d58b47230a2d0aaf959d8}{LCD\_D1}) | 
182          (CURSOR\_BLINK\_ON << 0);
183          
184          \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
185          
187         \_delay\_us(50);
188         
189         \textcolor{comment}{/***************************************************************************/}
195         Instructions = 0x01;
196         
197         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
198         
200         \_delay\_us(1600);
201         
202         \textcolor{comment}{/***************************************************************************/}
211         Instructions =  (1 << \hyperlink{_lib___l_c_d_8h_aa97ea257a9007a9055e5f77e1b3336e5}{LCD\_D2}) | 
212            (INCREMENT\_MODE << \hyperlink{_lib___l_c_d_8h_ac6b74016e58d58b47230a2d0aaf959d8}{LCD\_D1}) | 
213         (ENTIRE\_SHIFT\_MODE << 0);
214         
215         \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(INSTR\_WR, Instructions);
216         
217 \textcolor{preprocessor}{    #endif;}
218 \textcolor{preprocessor}{}    
219 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a801b1b8096ae349442402ff4260357e8_cgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_afd6340508e9e341f1a8c7ba4228e27f9}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F@{v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F}}
\index{v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F@{v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-O\-N\-\_\-\-O\-F\-F (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_afd6340508e9e341f1a8c7ba4228e27f9}


Function to toggle L\-C\-D on and off. 





Checks the current status of the L\-C\-D. If the L\-C\-D is on, toggle it so it's off. If the L\-C\-D is off, turn it on. Uses the v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E command to send instructions to the L\-C\-D.

\mbox{[}in\mbox{]} nothing

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/18/2013 -\/ Original Function 11/24/2013 -\/ Added code to function Create command to toggle L\-C\-D Display

Toggle the On\-Off\-Status tracker variable

Toggle L\-C\-D 

Definition at line 428 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
429 \{
431     uint8\_t LCD\_Command = 
432         (1 << \hyperlink{_lib___l_c_d_8h_aa57a26c661193bfb41377f080d15b4d6}{LCD\_ON\_OFF\_INSTRCUTION}) |
433         (\hyperlink{_lib___l_c_d_8h_a7306354fa1b76399437e38800816c915}{OnOffStatus} << LCD\_ON\_INSTRUCTION) |
434         (\hyperlink{_lib___l_c_d_8h_aaa9d50b1d874e351a1bafc33f7f8b22d}{configCURSOR\_SHOW} << LCD\_CURSOR\_SHOW\_INSTRUCTION) |
435         (configCURSOR\_BLINK << LCD\_CURSOR\_BLINK\_INSTRUCTION);
436     
438     \hyperlink{_lib___l_c_d_8h_a7306354fa1b76399437e38800816c915}{OnOffStatus} = \hyperlink{_lib___l_c_d_8h_a7306354fa1b76399437e38800816c915}{OnOffStatus} ^ 0x01;
439     
441     \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(0, LCD\_Command);
442 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_afd6340508e9e341f1a8c7ba4228e27f9_cgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G@{v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G}}
\index{v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G@{v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G}]{\setlength{\rightskip}{0pt plus 5cm}v\-L\-C\-D\-\_\-\-W\-R\-I\-T\-E\-\_\-\-S\-T\-R\-I\-N\-G (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str\-\_\-ptr}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543}


Function to write strings to the L\-C\-D. 





Function is used to take in a string of characters and display the string to the L\-C\-D

\mbox{[}in\mbox{]} $\ast$str\-\_\-ptr

\begin{DoxyReturn}{Returns}
nothing
\end{DoxyReturn}
Modification History\-:

11/17/2013 -\/ Original Function 11/23/2013 -\/ Addec Code If text wrap is enabled 

Definition at line 292 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
293 \{   
294     \textcolor{keywordflow}{while}(*str\_ptr != \textcolor{charliteral}{'\(\backslash\)0'})     \textcolor{comment}{//move through the string until the end is reached}
295     \{
297 \textcolor{preprocessor}{        #ifdef configTEXT\_WRAP}
298 \textcolor{preprocessor}{}\textcolor{preprocessor}{            #if configTEXT\_WRAP == 1}
299 \textcolor{preprocessor}{}        
301                 \textcolor{keywordflow}{if}( \hyperlink{_lib___l_c_d_8c_a1d0d7788aeded6a84e4149f2351beaf8}{xLCD\_Get\_Length}()== 24)
302                     \hyperlink{_lib___l_c_d_8c_ae689772c0ccc0f690d05790f3a8cd89e}{vLCD\_HOME\_BOTTOM\_LINE}(); \textcolor{comment}{//Continue on to the bottom line}
303         
304 \textcolor{preprocessor}{            #endif}
305 \textcolor{preprocessor}{}\textcolor{preprocessor}{        #endif}
306 \textcolor{preprocessor}{}        \hyperlink{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{vWRITE\_COMMAND\_TO\_LCD}(DATA\_WR, *str\_ptr++);
307     \}   
308 \}
\end{DoxyCode}


Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a4c4dec8455090f9fa00b2c5d1fbc2543_icgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D@{v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D}}
\index{v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D@{v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D}]{\setlength{\rightskip}{0pt plus 5cm}void v\-W\-R\-I\-T\-E\-\_\-\-C\-O\-M\-M\-A\-N\-D\-\_\-\-T\-O\-\_\-\-L\-C\-D (
\begin{DoxyParamCaption}
\item[{char}]{R\-S, }
\item[{char}]{data}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568}
Function to Write commands to an L\-C\-D Set D\-B7 pin to read

Wait for Busy flag to clear

Set L\-C\-D\-\_\-\-D7 pin for output

Enable display for use

Wait for Busy flag to clear 

Definition at line 244 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
245 \{
247     \hyperlink{_lib___l_c_d_8h_a8a47e7956b4dd0e990db51cd70d9eac8}{LDDR} = \hyperlink{_lib___l_c_d_8h_a8a47e7956b4dd0e990db51cd70d9eac8}{LDDR} & 0x7F;
248     
250     \textcolor{keywordflow}{while}(\hyperlink{_lib___l_c_d_8h_a88979bbbc6cd7d8c557867826d755c1b}{LDP} & 0x80);
251     
253     \hyperlink{_lib___l_c_d_8h_a8a47e7956b4dd0e990db51cd70d9eac8}{LDDR} = \hyperlink{_lib___l_c_d_8h_a8a47e7956b4dd0e990db51cd70d9eac8}{LDDR} | (1 << \hyperlink{_lib___l_c_d_8h_abd65075e01c7413419581aedee5bcc24}{LCD\_D7});
254     
255     \textcolor{keywordflow}{if}(RS == DATA\_WR) \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} = 1 << \hyperlink{_lib___l_c_d_8h_a4781e073871c6f27f89b9463ad3a4ed1}{LCD\_RS};   \textcolor{comment}{/*Set RS high to write data*/} 
256     \textcolor{keywordflow}{else} \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} = 0x00; \textcolor{comment}{/*Set RS low to write instructions*/}
257     
259     \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} = \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} | 1<<\hyperlink{_lib___l_c_d_8h_a6ec15b1e813d1f56d2eb644a127e5d49}{LCD\_E}; 
260     
261     \textcolor{comment}{/* Write Data*/}
262     \hyperlink{_lib___l_c_d_8h_a88979bbbc6cd7d8c557867826d755c1b}{LDP} = data;
263     
265     \textcolor{keywordflow}{while}(\hyperlink{_lib___l_c_d_8h_a88979bbbc6cd7d8c557867826d755c1b}{LDP} & 0x80); 
266     
267     \textcolor{comment}{/*Set Read/Write low*/}
268     \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} = \hyperlink{_lib___l_c_d_8h_a488115f911c9dcfb0bad83c6b0912965}{LCP} & 1<<\hyperlink{_lib___l_c_d_8h_a4781e073871c6f27f89b9463ad3a4ed1}{LCD\_RS};
269 \}
\end{DoxyCode}


Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a03a66d0dc99ddbf838e4699cb1f0c568_icgraph}
\end{center}
\end{figure}


\hypertarget{_lib___l_c_d_8c_a1d0d7788aeded6a84e4149f2351beaf8}{\index{Lib\-\_\-\-L\-C\-D.\-c@{Lib\-\_\-\-L\-C\-D.\-c}!x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length@{x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length}}
\index{x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length@{x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length}!Lib_LCD.c@{Lib\-\_\-\-L\-C\-D.\-c}}
\subsubsection[{x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t x\-L\-C\-D\-\_\-\-Get\-\_\-\-Length (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_lib___l_c_d_8c_a1d0d7788aeded6a84e4149f2351beaf8}
Function to track remaining characters on the L\-C\-D If the cursor is on the top line

give total available characters(top and bottom line)

If the cursor is on the bottom line

Give remaining characters available. 

Definition at line 472 of file Lib\-\_\-\-L\-C\-D.\-c.


\begin{DoxyCode}
473 \{
474     uint8\_t temp;
475     \textcolor{keywordflow}{switch}(\hyperlink{_lib___l_c_d_8h_aa8060b8676b9666d5b1357bb896a7cfa}{CURSOR\_Y\_POSITION})
476     \{
478         \textcolor{keywordflow}{case} 0:
481             temp = 48 - \hyperlink{_lib___l_c_d_8h_af3836e0e465249949a42c1711a29b026}{CURSOR\_X\_POSITION};
482             \textcolor{keywordflow}{if} (temp < 24)
483                 \textcolor{keywordflow}{return} 24;
484             \textcolor{keywordflow}{else}
485                 \textcolor{keywordflow}{return} temp;
486             \textcolor{keywordflow}{break};
487             
489         \textcolor{keywordflow}{case} 1:
491             temp = 24 - \hyperlink{_lib___l_c_d_8h_af3836e0e465249949a42c1711a29b026}{CURSOR\_X\_POSITION}; 
492             \textcolor{keywordflow}{if} (temp > 0)
493                 \textcolor{keywordflow}{return} temp;
494             \textcolor{keywordflow}{else}
495                 \textcolor{keywordflow}{return} 0;
496             \textcolor{keywordflow}{break};
497     \}
498 \}
\end{DoxyCode}


Here is the caller graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_lib___l_c_d_8c_a1d0d7788aeded6a84e4149f2351beaf8_icgraph}
\end{center}
\end{figure}


